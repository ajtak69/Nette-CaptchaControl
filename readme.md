# CaptchaControl for Nette Framework

Captcha Control for Nette Framework (Added support for PHP 7.1 & Nette 2.4)

- Author: Miroslav Přenosil &lt;prenosilmiroslav@gmail.com&gt;
- Copyright: Copyright (c) 2017 [Miroslav Přenosil]
- Author: Radek Dostál &lt;radek.dostal@gmail.com&gt;
- Copyright: Copyright (c) 2016 [Radek Dostál](http://www.radekdostal.cz)
- Author: Pavel Máca
- Copyright: Copyright (c) 2010 [Pavel Máca](http://www.inseo.cz)
- Licence: [MIT License](https://opensource.org/licenses/mit-license.php)
- GitHub: [http://github.com/ajtak69/Nette-CaptchaControl](http://github.com/ajtak69/Nette-CaptchaControl-PHP7)

## Requirements

- **[PHP](http://php.net)** 5.3 or later
- **[Nette Framework](https://github.com/nette/nette)** 2.3 or later

## Example

### Registration

Registration to bootstrap.php file.

```php
ajtak69\NetteComponents\CaptchaControl::register($container->getByType('Nette\Http\Session'));
```

### Usage

```php
$form = new \Nette\Application\UI\Form;  

$form->addCaptcha('captcha')
  ->addRule(\Nette\Forms\Form::FILLED, 'Rewrite text from image.')
  ->addRule($form['captcha']->getValidator(), 'Try it again.')
  ->setFontSize(25)
  ->setLength(10)  // word length  
  ->setTextMargin(20)  // px, set margin on left and right side
  ->setTextColor(\Nette\Image::rgb(0, 0, 0))  // array('red' => 0-255, 'green' => 0-255, 'blue' => 0-255)  
  ->setBackgroundColor(\Nette\Image::rgb(240,240,240))  // array('red' => 0-255, 'green' => 0-255, 'blue' => 0-255)  
  ->setImageHeight(50)  // px, if not set (0), image height will be generated by font size
  ->setImageWidth(0)  // px, if not set (0), image width will be generated by font size
  ->setExpire(10)  // seconds, set expiration time to session
  ->setFilterSmooth(FALSE)  // int or FALSE (disable)
  ->setFilterContrast(FALSE)  // int or FALSE (disable)
  ->useNumbers(FALSE);  // bool or void
```

### Global setting

```php
CaptchaControl::$defaultFontSize = 30;
CaptchaControl::$defaultFilterSmooth = 10;
...
```
